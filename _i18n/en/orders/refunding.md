<section id="estornandoOrdem">
  <h3>Refunding an order</h3>
  <br />
  <p>
    If an order has been captured (confirmed), it can no longer be
    canceled, as this is a process available only for authorized
    orders. In the case of captures, you must create a refund order
    for the payment made.
  </p>
  <p>
    Unlike cancellation where the value will always be equal to the
    total value of the order, the refund allows the return of
    partial values ​​to the customer, provided that respecting the
    limit of the order value.
  </p>
  <p>
    You can create multiple refunds for the same order. For example,
    an order of R$100 is created with 3 refunds with their values:
    R$50, R$40, and R$10.
  </p>
  <p>
    Remember that the sum of the values ​​of each refund must not
    exceed the total value of the order. If this occurs, an error
    will be returned while creating the refund.
  </p>
  <p>
    <code>IMPORTANT!</code> -> The parameter
    <code>refundId</code> on path of request represents an ID
    generated by PDV/seller and must be unique for each payment
    order.
  </p>
  <br />
  <div class="table-responsive">
    <table class="table table-bordered">
      <tbody>
        <tr>
          <th class="table-active text-center bg-light" colspan="2">
            <span class="badge badge-info">PUT</span>
            https://api.hml.amedigital.com/api/wallet/user/payments/{id}/refunds/{refundId}
          </th>
        </tr>
        <tr class="striped">
          <th class="table-active" colspan="2">
            HEADER PARAMETERS:
          </th>
        </tr>
        <tr>
          <th>
            Authorization:
            <br />
            <code>required</code>
          </th>
          <td>
            <code>string</code>
            <br />
            Example: <code>Bearer Token {ACCESS_TOKEN}</code> <br />
            Access token format <code>token_type</code> +
            <code>access_token</code> (Token type always is
            <b>Bearer</b>)
          </td>
        </tr>
        <tr>
          <th class="table-active" colspan="2">PATH PARAMETERS</th>
        </tr>
        <tr>
          <th>
            id
            <br />
            <code>required</code>
          </th>
          <td>
            <code>string (uuid)</code>
            <br />
            Example:
            <code>ff363bcb-0db4-41e8-83ce-2ef01eaf95e0</code> <br />
            Authorization order ID
          </td>
        </tr>
        <tr>
          <th>
            refundId
            <br />
            <code>required</code>
          </th>
          <td>
            <code>string (uuid)</code>
            <br />
            Example:
            <code>ff363bcb-0db4-41e8-83ce-2ef01eaf95e0</code> <br />
            ID that will be associated with the refund of that
            order.
          </td>
        </tr>
        <tr>
          <th class="table-active" colspan="2">
            REQUEST BODY SCHEMA:
            <code>application/json</code>
          </th>
        </tr>
        <tr>
          <th>
            amount
            <br />
            <code>required</code>
          </th>
          <td>
            Amount of refund
            <br />
            <br />
            <code>integer (int64)</code>
            <br />
            Amount in cents. For example: <code>R$ 19,77</code> must
            be expressed like <code>1977</code> cents
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <br />
  <h5>Responses</h5>
  <br />
  <div class="acoordion" id="accordionExample">
    <div class="card">
      <div class="card-header bg-ame-success text-success" id="heading200Estorno" data-toggle="collapse"
        data-target="#collapse200Estorno" aria-expanded="true" aria-controls="collapse200Estorno">
        <b>200</b> Refunded order successfully
      </div>
      <div id="collapse200Estorno" class="collapse show" aria-labelledby="heading200Estorno">
        <div class="card-body">
          <div class="table-responsive">
            <table class="table table-bordered">
              <tbody>
                <tr>
                  <th class="table-active" colspan="2">
                    RESPONSE SCHEMA: <code>application/json</code>
                  </th>
                </tr>
                <tr>
                  <th>refundId</th>
                  <td>
                    <code>string (uuid)</code>
                    <br />
                    Refund ID
                  </td>
                </tr>
                <tr>
                  <th>operationId</th>
                  <td>
                    <code>string (uuid)</code>
                    <br />
                    Refund ID generated by Ame Digital
                  </td>
                </tr>
                <tr>
                  <th>amount</th>
                  <td>
                    <code>integer (int64)</code>
                    <br />
                    Refund amount in cents. For example:
                    <code>R$ 19,77</code> must be expressed like
                    <code>1977</code> cents
                  </td>
                </tr>
                <tr>
                  <th>status</th>
                  <td>
                    <code>string</code>
                    <br />
                    Enum: <code>"HOLD"</code> <code>"DENIED"</code>
                    <code>"REFUNDED"</code>
                    <br />
                    Refund status
                  </td>
                </tr>
                <tr>
                  <th>createdAt</th>
                  <td>
                    <code>string (date-time)</code>
                    <br />
                    Date of created
                  </td>
                </tr>
                <tr>
                  <th>refundedAt</th>
                  <td>
                    <code>string (date-time)</code>
                    <br />
                    Refund effective date
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
    <div class="card">
      <div class="card-header bg-ame-danger text-danger" id="heading400Estorno" data-toggle="collapse"
        data-target="#collapse400Estorno" aria-expanded="true" aria-controls="collapse400Estorno">
        <b>400</b> Request parameters invalid
      </div>
      <div id="collapse400Estorno" class="collapse show" aria-labelledby="heading400Estorno">
        <div class="card-body">
          <div class="table-responsive">
            <table class="table table-bordered">
              <tbody>
                <tr>
                  <th class="table-active" colspan="2">
                    RESPONSE SCHEMA: <code>application/json</code>
                  </th>
                </tr>
                <tr>
                  <th>error</th>
                  <td>
                    <code>string</code>
                    <br />
                    Classification of error
                  </td>
                </tr>
                <tr>
                  <th>error_description</th>
                  <td>
                    <code>string</code>
                    <br />
                    Error description
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
    <div class="card">
      <div class="card-header bg-ame-danger text-danger" id="heading401Estorno" data-toggle="collapse"
        data-target="#collapse401Estorno" aria-expanded="true" aria-controls="collapse401Estorno">
        <b>401</b> Not authorized, access denied
      </div>
      <div id="collapse401Estorno" class="collapse show" aria-labelledby="heading401Estorno">
        <div class="card-body">
          <div class="table-responsive">
            <table class="table table-bordered">
              <tbody>
                <tr>
                  <th class="table-active" colspan="2">
                    RESPONSE SCHEMA: <code>application/json</code>
                  </th>
                </tr>
                <tr>
                  <th>error</th>
                  <td>
                    <code>string</code>
                    <br />
                    Classification of error
                  </td>
                </tr>
                <tr>
                  <th>error_description</th>
                  <td>
                    <code>string</code>
                    <br />
                    Error description
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
    <div class="card">
      <div class="card-header bg-ame-danger text-danger" id="heading403Estorno" data-toggle="collapse"
        data-target="#collapse403Estorno" aria-expanded="true" aria-controls="collapse403Estorno">
        <b>403</b> You don't have permission for this action
      </div>
      <div id="collapse403Estorno" class="collapse show" aria-labelledby="heading403Estorno">
        <div class="card-body">
          <div class="table-responsive">
            <table class="table table-bordered">
              <tbody>
                <tr>
                  <th class="table-active" colspan="2">
                    RESPONSE SCHEMA: <code>application/json</code>
                  </th>
                </tr>
                <tr>
                  <th>error</th>
                  <td>
                    <code>string</code>
                    <br />
                    Classification of error
                  </td>
                </tr>
                <tr>
                  <th>error_description</th>
                  <td>
                    <code>string</code>
                    <br />
                    Error description
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
    <div class="card">
      <div class="card-header bg-ame-danger text-danger" id="heading405Estorno" data-toggle="collapse"
        data-target="#collapse405Estorno" aria-expanded="true" aria-controls="collapse405Estorno">
        <b>405</b> Method not allowed
      </div>
      <div id="collapse405Estorno" class="collapse show" aria-labelledby="heading405Estorno">
        <div class="card-body">
          <div class="table-responsive">
            <table class="table table-bordered">
              <tbody>
                <tr>
                  <th class="table-active" colspan="2">
                    RESPONSE SCHEMA: <code>application/json</code>
                  </th>
                </tr>
                <tr>
                  <th>error</th>
                  <td>
                    <code>string</code>
                    <br />
                    Classification of error
                  </td>
                </tr>
                <tr>
                  <th>error_description</th>
                  <td>
                    <code>string</code>
                    <br />
                    Error description
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
    <div class="card">
      <div class="card-header bg-ame-danger text-danger" id="heading500Estorno" data-toggle="collapse"
        data-target="#collapse500Estorno" aria-expanded="true" aria-controls="collapse500Estorno">
        <b>5XX</b> Internal server error, try again. If the problem
        persists, contact technical support
      </div>
      <div id="collapse500Estorno" class="collapse show" aria-labelledby="heading500Estorno">
        <div class="card-body">
          <div class="table-responsive">
            <table class="table table-bordered">
              <tbody>
                <tr>
                  <th class="table-active" colspan="2">
                    RESPONSE SCHEMA: <code>application/json</code>
                  </th>
                </tr>
                <tr>
                  <th>error</th>
                  <td>
                    <code>string</code>
                    <br />
                    Classification of error
                  </td>
                </tr>
                <tr>
                  <th>error_description</th>
                  <td>
                    <code>string</code>
                    <br />
                    Error description
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<br />
<br />
